<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane
        xmlns="http://javafx.com/javafx/23.0.1"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="model.controller.RestaurantPageController"
        stylesheets="@restaurant-page.css"
        styleClass="root">

    <!-- ================= NAVBAR ================= -->
    <top>
        <HBox styleClass="navbar" alignment="CENTER_LEFT">
            <padding>
                <Insets top="12" right="18" bottom="12" left="18"/>
            </padding>

            <Button text="Back"
                    styleClass="nav-back"
                    onAction="#handleBack"/>

            <Label onMouseClicked="#goToHome" text="FoodHub" styleClass="nav-title"/>

            <!-- spacer -->
            <StackPane HBox.hgrow="ALWAYS"/>

            <!-- cart -->
            <StackPane alignment="CENTER_RIGHT" styleClass="cart-wrap">
                <Button text="ðŸ›’"
                        styleClass="cart-btn"
                        onAction="#handleCart"/>

                <Label fx:id="cartBadge"
                       text="0"
                       visible="false"
                       styleClass="cart-badge"/>
            </StackPane>

        </HBox>
    </top>

    <!-- ================= BODY ================= -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="scroll">
            <VBox styleClass="page" spacing="22">
                <padding>
                    <Insets top="14" right="18" bottom="22" left="18"/>
                </padding>

                <!-- HERO CARD -->
                <VBox styleClass="hero" spacing="10">
                    <padding>
                        <Insets top="22" right="24" bottom="22" left="24"/>
                    </padding>

                    <Label fx:id="restaurantNameLabel" styleClass="hero-title"/>
                    <Label fx:id="restaurantDescLabel" styleClass="hero-sub"/>

                    <HBox spacing="18" styleClass="hero-meta">
                        <Label fx:id="ratingLabel"   styleClass="hero-meta-item"/>
                        <Label fx:id="locationLabel" styleClass="hero-meta-item"/>
                        <Label fx:id="timeLabel"     styleClass="hero-meta-item"/>
                        <Label fx:id="deliveryLabel" styleClass="hero-meta-item strong"/>
                    </HBox>
                </VBox>

                <!-- MENU + CATEGORIES ROW -->
                <HBox spacing="26" alignment="TOP_LEFT">

                    <!-- Categories Card -->
                    <VBox styleClass="card categories" spacing="10">
                        <padding>
                            <Insets top="16" right="14" bottom="16" left="14"/>
                        </padding>

                        <Label text="Categories" styleClass="card-title"/>

                        <!-- keep same logic -->
                        <Button text="All"    styleClass="cat-link"/>
                        <Button text="Pizza"  styleClass="cat-link"/>
                        <Button text="Sides"  styleClass="cat-link"/>
                        <Button text="Drinks" styleClass="cat-link"/>
                    </VBox>

                    <!-- Menu Area -->
                    <VBox spacing="10" HBox.hgrow="ALWAYS">
                        <Label text="Menu" styleClass="section-title"/>

                        <FlowPane fx:id="menuFlowPane"
                                  styleClass="menu-flow"
                                  hgap="22"
                                  vgap="22"
                                  prefWrapLength="920"/>
                    </VBox>

                </HBox>

                <!-- REVIEWS CARD (big white rounded like screenshot) -->
                <VBox styleClass="card reviews" spacing="12">
                    <padding>
                        <Insets top="16" right="18" bottom="16" left="18"/>
                    </padding>

                    <HBox alignment="CENTER_LEFT" spacing="14">
                        <Label fx:id="reviewsCountLabel" styleClass="section-title"/>
                        <Button text="Add Review"
                                styleClass="pill-btn"
                                onAction="#handleAddReview"/>


                    </HBox>

                    <VBox fx:id="reviewsBox" spacing="10"/>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
